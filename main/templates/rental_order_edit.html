{% load static %}
<!doctype html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>レンタル注文登録／編集</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="{% static 'js/jquery-3.6.3.min.js' %}"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/css/select2.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/js/i18n/ja.js"></script>
    <script src="{% static 'js/rental_order.js' %}"></script>
</head>
<body>
{% include 'nav.html' %}
    <form action="" method="post">
        <h2>レンタル注文登録／編集</h2>
        <div><input type="submit" value="確定" class="btn btn-secondary"><a href="javascript:calc_invoice();" class="btn btn-primary">計算</a><a href="{% url 'rental_order_list' %}" class="btn btn-primary">戻る</a></div>
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-sm caption-top">
            <caption>レンタル注文内容</caption>
            {{ form.as_table }}
            </table>
        </div>
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-sm caption-top">
                <caption>レンタル注文明細</caption>
                <thead>
                    <tr>
                        <th scope="col" class="text-nowrap">出力</th>
                        <th scope="col" class="text-nowrap">品名</th>
                        <th scope="col" class="text-nowrap">数量</th>
                        <th scope="col" class="text-nowrap">単価</th>
                        <th scope="col" class="text-nowrap">合計</th>
                        <th scope="col" class="text-nowrap">備考</th>
                        <th scope="col" class="text-nowrap">削除</th>
                    </tr>
                </thead>
                <tbody>
                {% for rental_order_row_form in formset %}
                    {{ rental_order_row_form.id }}
                    {{ rental_order_row_form.rental_order }}
                    <tr>
                        <td>{{ rental_order_row_form.is_out }}</td>
                        <td>{{ rental_order_row_form.name }}</td>
                        <td>{{ rental_order_row_form.count }}</td>
                        <td>{{ rental_order_row_form.price }}</td>
                        <td>{{ rental_order_row_form.total }}</td>
                        <td>{{ rental_order_row_form.memo }}</td>
                        <td>{{ rental_order_row_form.DELETE }}</td>
                    </tr>
                {% endfor %}
                <tbody>
            </table>
        </div>
        {{ formset.management_form }}
        {% csrf_token %}
    </form>
</body>
</html>